# Copyright Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

- iss: spike
  path_var: SPIKE_PATH
  cmd: >
    <path_var>/spike --log-commits --isa=<variant> -l <elf>

- iss: verilator
  path_var: RTL_PATH
  cmd: >
    <path_var>/work-ver/Variane_testharness <elf>

- iss: verilator-gate
  path_var: RTL_PATH
  cmd: >
    make -C <path_var> generate-trace-verilator elf-bin=<elf> variant=<variant> gate=1

- iss: vsim
  path_var: RTL_PATH
  cmd: >
    make -C <path_var> generate-trace-vsim preload=<elf> elf-bin=none

- iss: vsim-gate
  path_var: RTL_PATH
  cmd: >
    make -C <path_var> generate-trace-vsim preload=<elf> elf-bin=none gate=1

- iss: vcs
  path_var: RTL_PATH
  cmd: >
    make -C <path_var> vcs elf-bin=<elf> variant=<variant>

- iss: ovpsim
  path_var: OVPSIM_PATH
  cmd: >
    <path_var>/riscvOVPsim.exe
    --controlfile <cfg_path>/riscvOVPsim.ic
    --objfilenoentry <elf>
    --override riscvOVPsim/cpu/simulateexceptions=T
    --trace --tracechange --traceshowicount --tracemode --traceregs
    --finishafter 1000000

- iss: sail
  path_var: SAIL_RISCV
  cmd: >
    <path_var>/riscv_ocaml_sim_RV<xlen> <elf>

- iss: whisper
  path_var: WHISPER_ISS
  cmd: >
    <path_var> <elf> --log --xlen <xlen> --isa <variant>
